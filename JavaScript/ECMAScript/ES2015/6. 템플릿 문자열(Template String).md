# 템플릿 문자열(Template String)

기존 자바스크립트에서는 변수의 내용을 문자열에 합치기 위해서는 아래와 같이 코드를 작성해야 했다.

```javascript
let name = 'foo'l
let age = 1935;

let string = 'My name is ' + name + ' and i\'m ' + age + ' years old.';
```

\+ 기호에 중간중간의 띄어쓰기까지 합쳐져 조금 정신없는 코드가 완성되었다. 이렇게 생긴 코드는 읽기도 힘들고, 변수 값 사이의 띄어쓰기도 고려해야 하기 때문에 여러모로 머리도 복잡하게 하는 코드이다. 이를 ES2015에서 추가된 템플릿 리터럴로 바꾸면 이렇게 된다.

```javascript
let string = `My name is ${name} and i'm ${age} years old.`;
```

코드가 훨씬 직관적으로 변했다는 것을 알 수 있다. 기존의 코드는 \+ 기호와 중간중간에 섞인 문자열, 띄어쓰기 등이 합쳐져 정신없었지만 이렇게 바뀐 코드는 띄어쓰기와 변수를 한 눈에 알아볼 수 있어 훨씬 깔끔해 보이고 알아보기도 쉽다.

템플릿 리터럴의 사용은 단순히 따옴표를 `(백틱) 기호로 바꾸고 내용에 변수를 사용하려면 백틱으로 감싼 문자열 안에 ${변수명}을 입력하기만 하면 된다. 이렇게 백틱으로 틀(템플릿)을 만들어 두고 데이터(${변수명})을 주면 자동으로 완성되기에 이를 문자열 템플릿이라고 하는 것이다.

또한 백틱을 사용하면 기존에 \n으로 줄바꿈을 표시했던 것과는 다르게 그냥 문자열 작성 중에 엔터를 눌러 개행하면 여러 줄인 문자열이 완성된다. 또한 백틱을 사용하면 큰따옴표 / 작은따옴표를 구분하지 않고 그냥 문자열에 일반 특수문자로 사용할 수 있다.

### Tagged Template String

태그가 붙은 템플릿 문자열로, React를 해본 사람들은 styled-components를 사용하면서 보았을 문법이다.

```javascript
const Content = styled.span`
  font-size: 1rem;
  text-align: center;
  color: #ffffff;
`;
```

이런 문법인데, 템플릿 리터럴 앞에 styled.span이라는 속성이 붙어 있다. 그런데 사실 여기서 span은 메서드(함수)이다. 태그 함수라고 불러도 되는데, 함수 뒤에 템플릿 리터럴을 붙여 같이 사용하는 것이다.

```javascript
const tag = (...args) => console.log(args);

tag`Foo Bar`; // [ [ 'Foo Bar' ] ]
```

> 화살표 함수에는 arguments를 사용할 수 없으며, 대신 ...args를 사용하여 가져올 수 있다.

첫 번째 매개변수로 문자열이 담긴 배열을 가져온다. 저렇게 보면 왜 배열이 사용되었는지 알기 힘들다.

```javascript
const foo = "Foo";
const bar = "Bar";

tag`My name is ${foo} ${bar}`; // [ [ 'My name is ', ' ', '' ], 'Foo', 'Bar' ]
```

이렇게 변수를 사용해 값을 넣어 보면 알기 쉬운데, 순수 문자열들은 첫 번째 매개변수인 배열에 들어가고, 변수는 첫 번째 배열 이후의 매개변수로 차례대로 들어가는 것을 볼 수 있다.

이를 잘 활용하면 문자열 Sanitization 등에 사용할 수 있다. 함수에 문자열을 붙이는 것인 만큼 다양한 곳에 활용할 수는 있지만, 일반적으로는 단순 함수를 이용하는 것이 훨씬 가독성 면에서 좋을 것 같다.
